{
  "Routes": [
    // -------------------------
    // AUTHENTICATION SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/auth/register",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7272
        }
      ],
      "UpstreamPathTemplate": "/auth/register",
      "UpstreamHttpMethod": [ "POST" ]
      // AllowAnonymous 
    },
    {
      "DownstreamPathTemplate": "/api/auth/login",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7272
        }
      ],
      "UpstreamPathTemplate": "/auth/login",
      "UpstreamHttpMethod": [ "POST" ]
      // AllowAnonymous 
    },
    {
      "DownstreamPathTemplate": "/api/auth/refresh",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7272
        }
      ],
      "UpstreamPathTemplate": "/auth/refresh",
      "UpstreamHttpMethod": [ "POST" ]
      // AllowAnonymous 
    },

    // -------------------------
    // USER SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/user/register",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7105
        }
      ],
      "UpstreamPathTemplate": "/user/register",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "system"
      //}
    },
    {
      "DownstreamPathTemplate": "/api/user/{id}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7105
        }
      ],
      "UpstreamPathTemplate": "/user/{id}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/user",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7105
        }
      ],
      "UpstreamPathTemplate": "/user",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/user/update",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7105
        }
      ],
      "UpstreamPathTemplate": "/user/update",
      "UpstreamHttpMethod": [ "PUT" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/user/delete",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7105
        }
      ],
      "UpstreamPathTemplate": "/user/delete",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },

    // -------------------------
    // STORE SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/store",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7153
        }
      ],
      "UpstreamPathTemplate": "/store",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "system"
      //}
    },
    {
      "DownstreamPathTemplate": "/api/store/user/{userId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7153
        }
      ],
      "UpstreamPathTemplate": "/store/user/{userId}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "seller,system"
      //}
    },
    {
      "DownstreamPathTemplate": "/api/store/update",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7153
        }
      ],
      "UpstreamPathTemplate": "/store/update",
      "UpstreamHttpMethod": [ "PUT" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "seller"
      //}
    },
    {
      "DownstreamPathTemplate": "/api/store/{userId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7153
        }
      ],
      "UpstreamPathTemplate": "/store/delete/{userId}",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "seller,admin"
      //}
    },
    {
      "DownstreamPathTemplate": "/api/store/change-active",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7153
        }
      ],
      "UpstreamPathTemplate": "/store/change-active",
      "UpstreamHttpMethod": [ "PATCH" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "seller,system"
      //}
    },

    {
      "DownstreamPathTemplate": "/api/store/detail/{storeId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7153
        }
      ],
      "UpstreamPathTemplate": "/store/detail/{storeId}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },

    // Store Public APIs
    {
      "DownstreamPathTemplate": "/api/store/all",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7153
        }
      ],
      "UpstreamPathTemplate": "/store/all",
      "UpstreamHttpMethod": [ "GET" ]
      // AllowAnonymous
    },

    {
      "DownstreamPathTemplate": "/api/store/public",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7153
        }
      ],
      "UpstreamPathTemplate": "/store/public",
      "UpstreamHttpMethod": [ "GET" ]
      // AllowAnonymous
    },

    // AllowAnonymous

    // -------------------------
    // PRODUCT SERVICE (Seller/Admin)
    // -------------------------
    // -------------------------
    // PRODUCT SERVICE (Seller/Admin)
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/product/search/{id}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/product/search/{id}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/search/store/{storeId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/product/search/store/{storeId}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },

    {
      "DownstreamPathTemplate": "/api/product/search/store/{storeId}/category/{categoryId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/product/search/store/{storeId}/category/{categoryId}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/search/store/{storeId}/search",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/product/search/store/{storeId}/search",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },

    {
      "DownstreamPathTemplate": "/api/product",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/product",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product{productId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/product/{productId}",
      "UpstreamHttpMethod": [ "PUT" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/{id}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/product/{id}",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },

    // -------------------------
    // PRODUCT CATEGORY APIs
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/product/category",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/product/category",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/search/category/store/{storeId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/product/category/store/{storeId}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },

    // -------------------------
    // BUYER PRODUCT SERVICE (Public/Buyer)
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/buyerproduct/search/store",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/buyerproduct/search/store",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/buyerproduct/search/categories",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7038
        }
      ],
      "UpstreamPathTemplate": "/buyerproduct/search/categories",
      "UpstreamHttpMethod": [ "GET" ]
    },
    // -------------------------
    // ORDER SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/order/get-order",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/order/get-order",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/order/user/get",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/order/user/get",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/order/seller",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/order/seller",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/order/update-order",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/order/update-order",
      "UpstreamHttpMethod": [ "PUT" ]
    },
    {
      "DownstreamPathTemplate": "/api/order/delete-order",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/order/delete-order",
      "UpstreamHttpMethod": [ "DELETE" ]
    },
    {
      "DownstreamPathTemplate": "/api/order/checkout",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/order/checkout",
      "UpstreamHttpMethod": [ "POST" ]
    },
    // -------------------------
    // CART SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/cart/get-cart",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/cart/get-cart",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/counting-item",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/cart/counting-item",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/add-item",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/cart/add-item",
      "UpstreamHttpMethod": [ "POST" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/delete-item",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/cart/delete-item",
      "UpstreamHttpMethod": [ "DELETE" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/delete-cart",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/cart/delete-cart",
      "UpstreamHttpMethod": [ "DELETE" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/{userId}/stores/{storeId}/items",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/cart/{userId}/stores/{storeId}/items",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/update-item",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7070
        }
      ],
      "UpstreamPathTemplate": "/cart/update-item",
      "UpstreamHttpMethod": [ "PUT" ]
    },
    // -------------------------
    // PAYMENT SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/payment/create",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7190
        }
      ],
      "UpstreamPathTemplate": "/payment/create",
      "UpstreamHttpMethod": [ "POST" ]
    },
    {
      "DownstreamPathTemplate": "/api/payment/confirm",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7190
        }
      ],
      "UpstreamPathTemplate": "/payment/confirm",
      "UpstreamHttpMethod": [ "POST" ]
    },
    {
      "DownstreamPathTemplate": "/api/payment/confirm-test",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7190
        }
      ],
      "UpstreamPathTemplate": "/payment/confirm-test",
      "UpstreamHttpMethod": [ "POST" ]
      // ⚠️ AllowAnonymous - chỉ bật DEV
    },
    {
      "DownstreamPathTemplate": "/api/payment/{paymentId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7190
        }
      ],
      "UpstreamPathTemplate": "/payment/{paymentId}",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/payment/order/{orderId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7190
        }
      ],
      "UpstreamPathTemplate": "/payment/order/{orderId}",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/payment/user/{userId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7190
        }
      ],
      "UpstreamPathTemplate": "/payment/user/{userId}",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/payment/cancel/{paymentId}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 7190
        }
      ],
      "UpstreamPathTemplate": "/payment/cancel/{paymentId}",
      "UpstreamHttpMethod": [ "PUT" ]
    }

  ],

  "GlobalConfiguration": {
    "BaseUrl": "https://localhost:7048"
  }
}