{
  "Routes": [
    // -------------------------
    // AUTHENTICATION SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/auth/register",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "auth",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/auth/register",
      "UpstreamHttpMethod": [ "POST" ]
      // AllowAnonymous 
    },
    {
      "DownstreamPathTemplate": "/api/auth/login",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "auth",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/auth/login",
      "UpstreamHttpMethod": [ "POST" ]
      // AllowAnonymous 
    },
    {
      "DownstreamPathTemplate": "/api/auth/refresh",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "auth",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/auth/refresh",
      "UpstreamHttpMethod": [ "POST" ]
      // AllowAnonymous 
    },
    {
      "DownstreamPathTemplate": "/api/auth/verify-email",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "auth",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/auth/verify-email",
      "UpstreamHttpMethod": [ "POST" ]
      // AllowAnonymous 
    },
    {
      "DownstreamPathTemplate": "/api/auth/resend-code",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "auth",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/auth/resend-code",
      "UpstreamHttpMethod": [ "POST" ]
      // AllowAnonymous 
    },
    {
      "DownstreamPathTemplate": "/api/auth/reset-password",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "auth",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/auth/reset-password",
      "UpstreamHttpMethod": [ "POST" ]
      // AllowAnonymous 
    },
    {
      "DownstreamPathTemplate": "/api/auth/forgot-password/{email}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "auth",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/auth/forgot-password/{email}",
      "UpstreamHttpMethod": [ "POST" ]
      // AllowAnonymous 
    },

    // -------------------------
    // USER SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/user/register",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "user",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/user/register",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "system"
      //}
    },
    {
      "DownstreamPathTemplate": "/api/user/{id}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "user",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/user/{id}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/user",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "user",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/user",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/user/update",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "user",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/user/update",
      "UpstreamHttpMethod": [ "PUT" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/user/delete",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "user",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/user/delete",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },

    // -------------------------
    // STORE SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/store",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "system"
      //}
    },
    {
      "DownstreamPathTemplate": "/api/store/get",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store/get",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "seller,system"
      //}
    },
    {
      "DownstreamPathTemplate": "/api/store/search-keyword",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store/search-keyword",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": ""
      }
    },
    {
      "DownstreamPathTemplate": "/api/store/search-tag",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store/search-tag",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": ""
      }
    },
    {
      "DownstreamPathTemplate": "/api/store/update",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store/update",
      "UpstreamHttpMethod": [ "PUT" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "seller"
      //}
    },
    {
      "DownstreamPathTemplate": "/api/store/delete",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store/delete",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "seller,admin"
      //}
    },
    {
      "DownstreamPathTemplate": "/api/store/change-active",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store/change-active",
      "UpstreamHttpMethod": [ "PATCH" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
      //"RouteClaimsRequirement": {
      //  "Role": "seller,system"
      //}
    },

    {
      "DownstreamPathTemplate": "/api/store/get-detail",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store/get-detail",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },

    // Store Public APIs
    {
      "DownstreamPathTemplate": "/api/store/all",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store/all",
      "UpstreamHttpMethod": [ "GET" ]
      // AllowAnonymous
    },

    {
      "DownstreamPathTemplate": "/api/store/public",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store/public",
      "UpstreamHttpMethod": [ "GET" ]
      // AllowAnonymous
    },

    // AllowAnonymous


    // -------------------------
    // PRODUCT SERVICE (Seller/Admin)
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/product/search/{productId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/search/{productId}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/get-product/{storeId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/get-product/{storeId}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }

    },

    {
      "DownstreamPathTemplate": "/api/product/get/{storeId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/get/{storeId}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/search-product/{storeId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/search-product/{storeId}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },

    {
      "DownstreamPathTemplate": "/api/product/create-product",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/create-product",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/update/{productId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/update/{productId}",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/update-active",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/update-active",
      "UpstreamHttpMethod": [ "PUT" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/delete/{productId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/delete/{productId}",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },

    // -------------------------
    // PRODUCT CATEGORY APIs
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/product/create-category",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/create-category",
      "UpstreamHttpMethod": [ "POST" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/search-category/{storeId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/search-category/{storeId}",
      "UpstreamHttpMethod": [ "GET" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },
    {
      "DownstreamPathTemplate": "/api/product/delete-category/{categoryId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product/delete-category/{categoryId}",
      "UpstreamHttpMethod": [ "DELETE" ],
      "AuthenticationOptions": {
        "AuthenticationProviderKey": "Bearer"
      }
    },


    // -------------------------
    // BUYER PRODUCT SERVICE (Public/Buyer)
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/buyerproduct/search/store",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/buyerproduct/search/store",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/buyerproduct/search/categories",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/buyerproduct/search/categories",
      "UpstreamHttpMethod": [ "GET" ]
    },
    // -------------------------
    // ORDER SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/order/get-order",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/order/get-order",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/order/user/get",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/order/user/get",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/order/seller",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/order/seller",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/order/update-order",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/order/update-order",
      "UpstreamHttpMethod": [ "PUT" ]
    },
    {
      "DownstreamPathTemplate": "/api/order/delete-order",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/order/delete-order",
      "UpstreamHttpMethod": [ "DELETE" ]
    },
    {
      "DownstreamPathTemplate": "/api/order/create-order",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/order/create-order",
      "UpstreamHttpMethod": [ "POST" ]
    },
    // -------------------------
    // CART SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/cart/get-cart",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/cart/get-cart",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/counting-item",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/cart/counting-item",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/add-item",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/cart/add-item",
      "UpstreamHttpMethod": [ "POST" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/checkout-items-list",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/cart/checkout-items-list",
      "UpstreamHttpMethod": [ "POST" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/delete-item",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/cart/delete-item",
      "UpstreamHttpMethod": [ "DELETE" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/delete-cart",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/cart/delete-cart",
      "UpstreamHttpMethod": [ "DELETE" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/get-item",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/cart/get-item",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/cart/update-item",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "order",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/cart/update-item",
      "UpstreamHttpMethod": [ "PUT" ]
    },
    // -------------------------
    // PAYMENT SERVICE
    // -------------------------
    {
      "DownstreamPathTemplate": "/api/payment/create",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "payment",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/payment/create",
      "UpstreamHttpMethod": [ "POST" ]
    },
    {
      "DownstreamPathTemplate": "/api/payment/confirm",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "payment",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/payment/confirm",
      "UpstreamHttpMethod": [ "POST" ]
    },
    {
      "DownstreamPathTemplate": "/api/payment/confirm-test",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "payment",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/payment/confirm-test",
      "UpstreamHttpMethod": [ "POST" ]
      // ⚠️ AllowAnonymous - chỉ bật DEV
    },
    {
      "DownstreamPathTemplate": "/api/payment/{paymentId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "payment",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/payment/{paymentId}",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/payment/order/{orderId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "payment",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/payment/order/{orderId}",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/payment/user/{userId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "payment",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/payment/user/{userId}",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/api/payment/cancel/{paymentId}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "payment",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/payment/cancel/{paymentId}",
      "UpstreamHttpMethod": [ "PUT" ]
    },
    {
      "DownstreamPathTemplate": "/store-images/{everything}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "store",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/store-images/{everything}",
      "UpstreamHttpMethod": [ "GET" ]
    },
    {
      "DownstreamPathTemplate": "/product-images/{everything}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "product",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/product-images/{everything}",
      "UpstreamHttpMethod": [ "GET" ]
    }

  ],

  "GlobalConfiguration": {
    "BaseUrl": "https://localhost:7048"
  }
}