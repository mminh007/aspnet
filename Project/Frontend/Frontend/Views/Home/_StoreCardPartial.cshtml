@using Frontend.Helpers;
@model IEnumerable<Frontend.Models.Stores.StoreDto>

@{
    var token = Context.Request.Cookies["accessToken"];
    var isLoggedIn = !string.IsNullOrEmpty(token);

    var AuthHeader = AuthHelper.GetUserInfo(Context);
    var userId = AuthHeader.userId;
}

@foreach (var item in Model)
{
    <div class="col-md-4 mb-4">
        <div class="item-restaurant">
            <a target="_blank" class="item-content" 
               href="@Url.Action("Index", "Product", new { store = item.StoreId, user = userId})">

                <!-- Hình ảnh cửa hàng -->
                <div class="img-restaurant">
                    <img src="@item.StoreImage" alt="@item.StoreName" class="img-fluid" />
                </div>

                <!-- Thông tin -->
                <div class="info-restaurant">
                    <div class="info-basic-res">
                        <h4 class="name-res" title="@item.StoreName">@item.StoreName</h4>
                        <div class="address-res" title="@item.Address">@item.Address</div>
                    </div>

                    <!-- Promotion -->
                    @if (!string.IsNullOrEmpty(item.Description))
                    {
                        <p class="content-promotion">
                            <i class="fas fa-tag"></i> @item.Description
                        </p>
                    }

                    <!-- Status -->
                    <div class="opentime-status">
                        @if (item.IsActive)
                        {
                            <span class="stt online" title="Mở cửa"></span>
                        }
                        else
                        {
                            <span class="stt offline" title="Đóng cửa"></span>
                        }
                    </div>

                   
                </div>
            </a>
        </div>
    </div>
}


